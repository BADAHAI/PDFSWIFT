<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <!-- Meta Tags for SEO -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ููุญุฉ ุชุญูู PdfSwift. ุงุณุชุฎุฏู ุฃุฏูุงุช PDF ูุงูุตูุฑ ุงููุฌุงููุฉุ ูุชุนุฑู ุนูู ุฃุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงููุงุฏูุฉ ูุฑูุจุงู.">
    <title>ููุญุฉ ุงูุชุญูู | PdfSwift</title>
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/pages.css">
</head>
<body class="dashboard-page">

    <!-- Header Component (will be loaded by JS) -->
    <div id="header-placeholder"></div>

    <main class="dashboard-main">
        <div class="container">
            <header class="dashboard-header">
                <h1>ูุฑุญุจุงู ุจู ูู ููุญุฉ ุงูุฃุฏูุงุช</h1>
                <p>ุงุฎุชุฑ ุงูุฃุฏุงุฉ ุงูุชู ุชุฑูุฏ ุงุณุชุฎุฏุงููุง ูู ุงููุงุฆูุฉ ุฃุฏูุงู</p>
            </header>

            <!-- ูุณู ุฃุฏูุงุช PDF -->
            <section id="pdf-tools">
                <h2>๐ ุฃุฏูุงุช PDF</h2>
                <div class="tools-grid">
                    <a href="#" class="tool-card" data-tool="pdf-merge">
                        <span class="tool-icon">๐</span>
                        <h4>ุฏูุฌ ูููุงุช PDF</h4>
                        <p>ุงุฏูุฌ ุนุฏุฉ ูููุงุช ูู ููู ูุงุญุฏ</p>
                    </a>
                    <a href="#" class="tool-card" data-tool="pdf-split">
                        <span class="tool-icon">โ๏ธ</span>
                        <h4>ุชูุณูู ููู PDF</h4>
                        <p>ุงูุตู ููู PDF ุฅูู ุนุฏุฉ ุตูุญุงุช</p>
                    </a>
                    <a href="#" class="tool-card" data-tool="pdf-compress">
                        <span class="tool-icon">๐๏ธ</span>
                        <h4>ุถุบุท ููู PDF</h4>
                        <p>ููู ุญุฌู ุงูููู ุฏูู ุงูุชุฃุซูุฑ ุนูู ุงูุฌูุฏุฉ</p>
                    </a>
                </div>
            </section>

            <!-- ูุณู ุฃุฏูุงุช ุงูุตูุฑ -->
            <section id="image-tools">
                <h2>๐ผ๏ธ ุฃุฏูุงุช ุงูุตูุฑ</h2>
                <div class="tools-grid">
                    <a href="#" class="tool-card" data-tool="img-resize">
                        <span class="tool-icon">๐</span>
                        <h4>ุชุบููุฑ ุงูุญุฌู</h4>
                        <p>ุบูุฑ ุฃุจุนุงุฏ ุตูุฑุชู ุจุณูููุฉ</p>
                    </a>
                    <a href="#" class="tool-card" data-tool="img-remove-bg">
                        <span class="tool-icon">๐๏ธ</span>
                        <h4>ุญุฐู ุงูุฎูููุฉ</h4>
                        <p>ุงุฒู ุงูุฎูููุฉ ูู ุตูุฑุชู ุจุฏูุฉ</p>
                    </a>
                </div>
            </section>

            <!-- ูุณู ุฃุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู -->
            <section id="ai-tools">
                <h2>๐ค ุฃุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู</h2>
                <p style="color: #6c757d; margin-bottom: 20px;">ูุฐู ุงูุฃุฏูุงุช ููุฏ ุงูุชุทููุฑ ูุณุชููู ูุชุงุญุฉ ูุฑูุจุงู!</p>
                <div class="tools-grid">
                    <div class="tool-card coming-soon">
                        <span class="tool-icon">๐</span>
                        <h4>ุชูุฎูุต ุงููุตูุต</h4>
                        <p>ุงุญุตู ุนูู ููุฎุต ุฏููู ูุฃู ูุต</p>
                        <span class="badge">ูุฑูุจุงู</span>
                    </div>
                    <div class="tool-card coming-soon">
                        <span class="tool-icon">๐ฌ</span>
                        <h4>ูุณุงุนุฏ ุฐูุงุก ุงุตุทูุงุนู</h4>
                        <p>ุงุทุฑุญ ุฃุณุฆูุฉ ูุงุญุตู ุนูู ุฅุฌุงุจุงุช ููุฑูุฉ</p>
                        <span class="badge">ูุฑูุจุงู</span>
                    </div>
                    <div class="tool-card coming-soon">
                        <span class="tool-icon">๐จ</span>
                        <h4>ุฅูุดุงุก ุตูุฑ ูู ูุต</h4>
                        <p>ุญููู ุฃููุงุฑู ุฅูู ุตูุฑ ูุฐููุฉ</p>
                        <span class="badge">ูุฑูุจุงู</span>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer Component (will be loaded by JS) -->
    <div id="footer-placeholder"></div>

    <!-- JavaScript Files -->
    <script type="module" src="../js/supabase-config.js"></script>
    <script type="module" src="../js/main.js"></script>
    <script type="module" src="../js/auth.js"></script>

    <!-- ููุทู ุงูุชุญูู ุงูุฎุงุต ุจุตูุญุฉ ุงูุฃุฏูุงุช -->
    <script type="module">
        // ุงุณุชูุฑุงุฏ ุนููู supabase
        import { supabase } from '../js/supabase-config.js';

        // --- ุนูุงุตุฑ DOM ุงูุฎุงุตุฉ ุจุตูุญุฉ ุงูุฃุฏูุงุช ---
        const loginContainer = document.getElementById('login-container');
        const userProfile = document.getElementById('user-profile');
        const userNameEl = document.getElementById('user-name');
        const userAvatarEl = document.getElementById('user-avatar');
        const logoutBtn = document.getElementById('logout-btn');

        // --- ููุทู ุงูุชุญูู ูู ุนุฑุถ ุงููุณุชุฎุฏู ---
        async function setupPage() {
            // ุฌูุจ ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุญุงูู
            const { data: { user } } = await supabase.auth.getUser();

            if (user) {
                // ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎููู: ุฅุธูุงุฑ ูุนูููุงุชู
                if (loginContainer) loginContainer.style.display = 'none';
                if (userProfile) userProfile.style.display = 'flex';

                const userName = user.user_metadata?.full_name || user.email || 'ูุณุชุฎุฏู';
                const userAvatar = user.user_metadata?.avatar_url || '../assets/images/default-avatar.png';

                if (userNameEl) userNameEl.textContent = userName;
                if (userAvatarEl) userAvatarEl.src = userAvatar;

            } else {
                // ุงููุณุชุฎุฏู ููุณ ูุณุฌูุงู ุฏุฎููู: ุฅุนุงุฏุฉ ุชูุฌููู ุฅูู ุตูุญุฉ ุงููุตุงุฏูุฉ
                console.log('ุงููุณุชุฎุฏู ุบูุฑ ูุณุฌู ุฏุฎูููุ ุณูุชู ุงูุชูุฌูู ุฅูู ุตูุญุฉ ุงููุตุงุฏูุฉ.');
                window.location.href = '../pages/auth.html';
            }
        }

        // --- ุฏุงูุฉ ุชุณุฌูู ุงูุฎุฑูุฌ ---
        async function signOut() {
            const { error } = await supabase.auth.signOut();
            if (error) {
                console.error('ุฎุทุฃ ูู ุชุณุฌูู ุงูุฎุฑูุฌ:', error.message);
            } else {
                window.location.href = '../index.html';
            }
        }

        // --- ุฅุถุงูุฉ ูุณุชูุนู ุงูุฃุญุฏุงุซ ---
        if (logoutBtn) {
            logoutBtn.addEventListener('click', signOut);
        }
        
        // ูุงุฆูุฉ ุงูููู ุงูุดุฎุตู ุงูููุณุฏูุฉ (ุชู ููููุง ููุง ูุชุนูู ูู ุตูุญุฉ ุงูุฃุฏูุงุช)
        if (userProfile) {
            userProfile.addEventListener('click', (e) => {
                e.stopPropagation();
                const menu = document.getElementById('profile-menu');
                if(menu) menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
            });

            window.addEventListener('click', () => {
                const menu = document.getElementById('profile-menu');
                if(menu) menu.style.display = 'none';
            });
        }

        // ุชุดุบูู ุงูุฏุงูุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        setupPage();
    </script>
</body>
</html>
